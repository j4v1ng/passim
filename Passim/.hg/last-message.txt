Passim basic functionality almost finished

